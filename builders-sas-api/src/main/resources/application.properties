# ===============================================================
# ?? SPRING APPLICATION CONFIGURATION
# ===============================================================
spring.application.name=builders-sas-api
spring.main.web-application-type=servlet
server.port=9090

# ===============================================================
# ?? DATABASE CONFIGURATION (PostgreSQL + HikariCP)
# ===============================================================
spring.datasource.url=jdbc:postgresql://localhost:5432/builders_sas_db
spring.datasource.username=postgres
spring.datasource.password=Leandro2009*
spring.datasource.driver-class-name=org.postgresql.Driver

# ? Connection Pool (HikariCP)
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=1800000

# ===============================================================
# ? JPA / HIBERNATE CONFIGURATION
# ===============================================================
# ? Permite actualizar el esquema sin perder datos
spring.jpa.hibernate.ddl-auto=update

# ? Muestra las sentencias SQL en consola
spring.jpa.show-sql=false

# ? Formato legible del SQL
spring.jpa.properties.hibernate.format_sql=true

# ? Evita LazyInitializationException fuera del contexto de transacción
spring.jpa.open-in-view=false

# ===============================================================
# ?? ASYNC EXECUTION (ThreadPoolTaskExecutor)
# ===============================================================
spring.task.execution.pool.core-size=8
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=200
spring.task.execution.thread-name-prefix=builders-async-

# ===============================================================
# ? LOGGING CONFIGURATION
# ===============================================================

# ? Niveles globales de log
logging.level.root=INFO
logging.level.org.springframework=INFO

# ? Corregido: antes tenía com.builders-sas-api (el guion no es válido en package name)
logging.level.com.builderssas.api=DEBUG

# ? Hibernate SQL + parámetros
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql=TRACE
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ? Mostrar estado del ThreadPool asíncrono
logging.level.org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor=DEBUG

# ? Colores en la consola
spring.output.ansi.enabled=ALWAYS

# ? Patrón del log de consola (colorizado y compacto)
logging.pattern.console=%clr(%d{dd--MM-yyyy HH:mm:ss}){faint} %clr([%thread]){cyan} %clr(%-5level){green} %clr(%logger{40}){blue} - %msg%n
